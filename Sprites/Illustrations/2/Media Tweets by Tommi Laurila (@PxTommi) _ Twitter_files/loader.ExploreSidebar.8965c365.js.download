(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{"A+RP":function(e,t,r){"use strict";r.r(t),r.d(t,"UPDATE_INTERVAL",(function(){return N})),r.d(t,"ExploreSidebar",(function(){return J}));r("kYxP");var n=r("KEM+"),s=r.n(n),i=r("ERkP"),o=(r("IAdD"),r("R972")),a=r("8UdT"),c=r("iu0J"),d=r("3XMw"),h=r.n(d),l=r("caTy"),p=r("zML4"),m=r("MWbm"),u=r("Irs7"),_=r("hxu0"),b=r("6vad"),T=r("rC8y");const w=h.a.c5f4befa,f=h.a.d228a9a0;class E extends i.Component{constructor(e,t){super(e,t),s()(this,"_handleShowMoreInlineClick",()=>{const{onClick:e}=this.props;this.setState({showMoreTrends:!0}),e("show_more_inline")}),s()(this,"_handleShowMoreClick",()=>{const{onClick:e}=this.props;e("show_more")}),this.state={showMoreTrends:!1}}componentDidMount(){const{trends:e,analytics:t}=this.props;e&&e.length>0&&t.scribe({action:"impression",component:"explore_sidebar"})}canShowMoreTrends(){const{trends:e}=this.props;return!this.state.showMoreTrends&&e.length>5}render(){const{footer:e,headerTitle:t,isInSidebar:r}=this.props,n=i.createElement(p.a,{to:"/settings/trends"});return i.createElement(m.a,null,i.createElement(b.a,{rightControl:n,text:t||w}),this._renderTrends(),this.canShowMoreTrends()?i.createElement(T.a,{onPress:this._handleShowMoreInlineClick,text:f,withBottomRadius:!0,withDarkerInteractiveBackground:r}):!!e&&i.createElement(T.a,{link:e.landingUrl?Object(l.b)(e.landingUrl):void 0,onPress:this._handleShowMoreClick,text:e.text,withBottomRadius:!0,withDarkerInteractiveBackground:r}))}_renderTrends(){const{trends:e}=this.props,{showMoreTrends:t}=this.state;return(t?e:e.slice(0,5)).map(e=>i.createElement(i.Fragment,{key:e.key},e.item))}}var g=Object(u.a)(Object(_.a)(E)),k=r("+o05"),y=r("zh9S"),M=r("5Y9N"),I=r("XtkE"),S=r("xN10"),v=r("VPAj");const x={[a.a.TimelineCursor]:o.d(o.a()),[a.a.Label]:o.d(o.a()),[a.a.Message]:o.d(o.a()),[a.a.News]:o.d(o.a()),[a.a.Trend]:Object(I.a)({withThirdPartyCards:!1,errorContext:"EXPLORE_SIDEBAR"}),[a.a.EventSummary]:Object(c.a)({errorContext:"EXPLORE_SIDEBAR"}),[a.a.ScoreEventSummary]:k.a},C={TrendsModule:o.f({bindActions:()=>({scribeAction:y.c}),component:g,createProps:({entry:e,renderEntry:t,scribeNamespace:r,actions:{scribeAction:n}})=>{const{footer:s,header:i,items:o}=e.content;return{footer:s,headerTitle:i&&i.text,onClick:e=>{n(Object.assign({},r,{element:e,action:"click"}))},trends:o.map(e=>({item:t(e),key:e.entryId}))}},shouldDisplayBorder:Object(v.a)(!1)})};var O=Object.assign({},Object(M.a)({customHandlers:C,customSelectDisplayType:e=>(e=>{const{content:{items:t}}=e;return t.length>0&&Object(S.a)(t,e=>e.type===a.a.Trend)})(e)?"TrendsModule":e.content.displayType,isInSidebar:!0}),x),U=r("fTQJ"),j=r("b8qQ"),A=r("B5iK"),P=r("2g+p"),R=r("FIs5"),D=r("I7xG"),B=r("BxsD");const L=h.a.b8e930fd,F=h.a.ae05f268,N=3e5,W=()=>i.createElement(R.a,{message:F});class J extends i.Component{constructor(...e){super(...e),s()(this,"_getModuleWithProfileUserId",Object(D.a)(this,e=>e.profileUserId,e=>Object(B.c)({displayLocation:B.a.WebSidebar,profileUserId:e}))),s()(this,"_setTimelineRef",e=>{this._timeline=e,e&&this._startTimer()}),s()(this,"_startTimer",()=>{this._stopTimer(),this._timer=new A.b(N).interval(this._fetchUpdates),this._timer.start()}),s()(this,"_stopTimer",()=>{this._timer&&this._timer.stop(),this._timer=void 0}),s()(this,"_onAppForegrounded",e=>{"active"===e&&this._fetchUpdates()}),s()(this,"_fetchUpdates",()=>{this._timeline&&"active"===P.a.currentState&&this._timeline.fetchTop({})})}componentDidMount(){P.a.addEventListener("change",this._onAppForegrounded)}componentWillUnmount(){this._stopTimer(),P.a.removeEventListener("change",this._onAppForegrounded)}render(){const e=this.props.profileUserId?this._getModuleWithProfileUserId():B.f;return i.createElement(m.a,null,i.createElement(U.a,{entryConfiguration:O,module:e,renderUnavailable:W,scroller:j.a,showFooter:!1,timelineRef:this._setTimelineRef,title:L,withInstreamVideo:!1,withKeyboardShortcuts:!1}))}}t.default=J}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.ExploreSidebar.8965c365.js.map