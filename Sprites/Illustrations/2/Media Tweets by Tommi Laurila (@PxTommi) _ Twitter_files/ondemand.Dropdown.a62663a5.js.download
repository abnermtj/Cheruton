(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{fyKl:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return y}));i("IAdD");var n=i("97Jx"),o=i.n(n),a=i("KEM+"),r=i.n(a),s=i("ERkP"),c=i("zfvc"),d=i("jHwr"),h=i("VY6S"),l=i("w9LO"),p=i("//dC"),m=i("Oe3h"),u=i("0FVZ"),f=i("7nmT"),w=i.n(f),b=i("cHvH"),_=i("rHpw"),O=i("i4Oy"),g=i("shC7"),v=i("MWbm");const R=_.a.create(e=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${e.spaces.jumbo} * 5)`},anchor:_.a.absoluteFillObject,mask:Object.assign({},_.a.absoluteFillObject,{position:"fixed"}),bodyRectHelper:Object.assign({},_.a.absoluteFillObject,{bottom:void 0}),content:{borderRadius:e.borderRadii.medium,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}}));class y extends s.Component{constructor(e,t){super(e,t),r()(this,"_handleAnimateComplete",()=>{const{onAnimateComplete:e}=this.props;e&&e()}),r()(this,"_handleEsc",e=>{const{onDismiss:t}=this.props,{altKey:i,ctrlKey:n,metaKey:o,key:a}=e;!(i||n||o)&&"Escape"===a&&t()}),r()(this,"_receiveBodyRectHelperRef",e=>{const t=w.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(this._bodyRectHelperNode=t),this._scheduleUpdate()}),r()(this,"_receiveAnchorRef",e=>{const t=w.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(this._anchorNode=t),this._scheduleUpdate()}),r()(this,"_receiveContentRef",e=>{const t=w.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&(this._contentNode=t),this._scheduleUpdate()}),r()(this,"_updatePosition",()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const e=this._contentNode.scrollHeight,t=this._contentNode.scrollWidth,{left:i,top:n,width:o}=this._bodyRectHelperNode.getBoundingClientRect(),{width:a,height:r}=O.a.get("window");let s={left:0,top:0,height:0,width:0};this.props.position?s=Object.assign({},s,this.props.position):this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(s=this._anchorNode.getBoundingClientRect());const{left:c,top:d,height:h,width:l}=s,p=a-o,m=c-i,u=d-n,f=c+l>=t,w=d+h>=e,b=a-c>=t,_=r-d>=e,v=this.props.preferredVerticalOrientation,R=(e=>g.a.isRTL?"left"===e?"right":"left":e)(this.props.preferredHorizontalOrientation),y=this.state.verticalOrientation||(({verticalPreference:e,canOrientUp:t,canOrientDown:i})=>t&&i||!t&&!i?e:t?"up":"down")({verticalPreference:v,canOrientUp:w,canOrientDown:_}),E=this.state.horizontalOrientation||(({horizontalPreference:e,canOrientLeft:t,canOrientRight:i})=>!t||"left"!==e&&i?"right":"left")({horizontalPreference:R,canOrientLeft:f,canOrientRight:b}),H=this.props.isFixed?c:m,N=this.props.isFixed?d:u,x="up"===y?N+h-e:N,D="left"===E?a-H-l-p:a-H-t-p;this.setState({top:Math.max(x,0),right:D,verticalOrientation:y,horizontalOrientation:E})}),this.state=Object.freeze({}),this._scheduleUpdate=Object(d.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(h.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,O.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,O.a.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{children:e,isFixed:t,onDismiss:i,animateInDuration:n,animateType:a,withKeyboardNavigation:r}=this.props,{top:d,right:h,verticalOrientation:f}=this.state,w=void 0===d,O=`calc(100vh - ${d||0}px)`,y=[R.content,w&&R.contentInitialRender,t&&[R.contentFixed,{maxHeight:O}],{top:d,right:g.a.isRTL?void 0:h,left:g.a.isRTL?h:void 0}];return s.createElement(v.a,{ref:this._receiveAnchorRef,style:R.anchor},s.createElement(u.a.Dropdown,null,s.createElement(p.a,{onDismiss:i},s.createElement(l.a,{withKeyboardNavigation:r},s.createElement(v.a,{onClick:i,style:R.mask}),s.createElement(v.a,{ref:this._receiveBodyRectHelperRef,style:R.bodyRectHelper}),s.createElement(b.a,null,({windowWidth:t})=>s.createElement(v.a,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[t<_.a.theme.breakpoints.medium?R.rootNarrow:R.rootWide,y]},w&&"slide"===a?e:s.createElement(c.b,{animateMount:"up"!==f,duration:n,onAnimateComplete:this._handleAnimateComplete,show:!0,type:a},({isAnimating:t})=>s.createElement(m.a,{minimizeReporting:t},(t,i)=>s.createElement(v.a,o()({ref:t()},i({})),e)))))))))}}r()(y,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0})}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.Dropdown.a62663a5.js.map