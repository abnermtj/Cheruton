(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{hIbf:function(e,t,a){"use strict";a.r(t),a.d(t,"ProfileSidebarContainer",(function(){return y})),a.d(t,"toRelativePath",(function(){return C}));a("MvUL"),a("kYxP");var s=a("KEM+"),i=a.n(s),r=a("FwvS"),n=a("ERkP"),c=a("k49u"),o=a("es0u"),d=a("hqKg"),l=a("8UdT"),p=a("P1r1"),h=a("XOJV"),u=a("YjVx"),m=a("oQhu"),b=a("FLCi");const I=Object(m.a)(e=>Object(u.a)(e)),f=[],g=Object(d.createSelector)((e,t)=>I(t).selectEntries(e),h.a.createHydratedSelector,p.k,(e,t,a)=>Object(b.a)(e,e=>{const s=e.type===l.a.Tweet&&t(e.content.id);return s&&!s.tombstoneInfo&&!s.isDeleted&&(!s.possibly_sensitive||a)&&s.extended_entities&&s.extended_entities.media||f}));var w=a("oEGd"),M=a("0KEI"),_=a("MDbM");const R=Object(d.createSelector)((e,t)=>g(e,t.userId),(e,t)=>((e,t)=>I(t).selectInitialFetchStatus(e))(e,t.userId)||_.a.LOADING,(e,t)=>({mediaItems:e,mediaFetchStatus:t})),S={createLocalApiErrorHandler:Object(M.d)("PROFILE_SIDE_BAR"),fetchRecentMediaIfNeeded:e=>I(e).fetchInitial()};var x=Object(w.g)(R,S),E=a("kGix"),L=a("3XMw"),O=a.n(L),A=a("fs1G"),U=a("q2Cp"),j=a("Qwev"),k=a("rHpw");const v=O.a.b327c129,D={[c.a.NotAuthorizedToViewUser]:{customAction:A.a}};class y extends n.Component{constructor(...e){super(...e),i()(this,"_fetchRecentUserMedia",()=>{const{createLocalApiErrorHandler:e,fetchRecentMediaIfNeeded:t,userId:a}=this.props;t(a).catch(e(D))})}componentDidUpdate(e){e.userId!==this.props.userId&&this._fetchRecentUserMedia()}componentDidMount(){this._fetchRecentUserMedia()}render(){const{mediaFetchStatus:e}=this.props;return e&&e!==E.a.LOADING?this._renderSidebar():n.createElement(j.a,{accessibilityLabel:"Loading profile sidebar"})}_renderSidebar(){const e=this._getImages();return n.createElement(o.a,{profileUserId:this.props.userId},e.length>=2&&!this.props.hideMediaModule?n.createElement(U.a,{cacheLocationKey:"profileSidebar",images:e,singleImageMaxAspectRatio:k.a.theme.aspectRatios.landscape,singleImageMinAspectRatio:k.a.theme.aspectRatios.landscape}):null)}_getImages(){const{mediaItems:e}=this.props;return e.map((t,a)=>{const s={pathname:C(t.expanded_url),state:{mediaItems:{items:e,index:a}}},i=r.c(t);return i&&{width:i.width,height:i.height,url:i.url,backgroundColor:r.a(t),cropCandidates:r.b(t),accessibilityLabel:t.ext_alt_text||v,shouldShowAltLabel:!1,expandedUrl:s}}).filter(Boolean)}}const C=e=>e.replace("https://twitter.com","");t.default=x(y)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.ProfileSidebar.313263d5.js.map